(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{77:function(e,t,a){e.exports=a(98)},82:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),c=(a(82),a(19)),l=a(147),s=a(74),d=a(149),u=a(22),m=a(29),p=a(26),g=a(140),f=a(100),h=a(141),v=a(101),b=a(99),E=a(139),w=Object(b.a)({root:{flexGrow:1,zIndex:1500}});function y(){var e=w();return r.a.createElement("div",{className:e.root},r.a.createElement(E.a,{color:"secondary",variant:"query"}))}var O=Object(b.a)(function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},paper:{position:"absolute",top:"25%",flexGrow:1,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(3,2),outline:"none"},header:{margin:15},card:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[2],padding:e.spacing(4),margin:15,outline:"none"},button:{float:"right",display:"flex",margin:e.spacing(1),backgroundColor:e.palette.primary.main},progress:{position:"absolute",zIndex:1500,top:0}}}),A=Object(c.b)(function(e,t){return{state:e}})(function(e){var t=O(),a=e.state.validationReducer.validatedAddress,o=a.validOrigin,i=a.validDestination,c=r.a.useState(!0),l=Object(p.a)(c,2),s=l[0],d=l[1];return Object(n.useEffect)(function(){return d(!o&&!i)}),r.a.createElement(r.a.Fragment,null,!(o||i)&&r.a.createElement(y,{className:t.progress}),r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement("div",{className:t.container},r.a.createElement(f.a,{className:t.paper},r.a.createElement(v.a,{className:t.header,variant:"h5",gutterBottom:!0},"Confirm Address"),r.a.createElement(f.a,{className:t.card},o&&r.a.createElement(v.a,{variant:"body1",className:t.title},o.geocoded_address&&o.geocoded_address.formatted_address)||r.a.createElement(v.a,{color:"textSecondary",variant:"overline",className:t.title},"Orgin")),r.a.createElement(f.a,{className:t.card},i&&r.a.createElement(v.a,{variant:"body1",className:t.title},i.geocoded_address&&i.geocoded_address.formatted_address)||r.a.createElement(v.a,{color:"textSecondary",variant:"overline",className:t.title},"Destination")),r.a.createElement(h.a,{disabled:s,component:u.b,to:"/map",className:t.button},"Map"),r.a.createElement(h.a,{onClick:e.history.goBack,className:t.button},"Back"))))))}),j=a(148),k=function(e,t){return function(a){var n=function(e){return fetch("https://dev-api.shipwell.com/v2/locations/addresses/validate/",function(e){return{method:"POST",headers:{"Cache-Control":"no-cache","Content-Type":"application/json"},body:JSON.stringify({formatted_address:e})}}(e)).then(function(e){return e.json()})},r={validOrigin:{},validDestination:{}};Promise.all([n(e),n(t)]).then(function(e){r.validOrigin=e[0],r.validDestination=e[1],a({type:"VALIDATE_ADDRESS",payload:r}),(e[0].error||e[1].error)&&alert("Please check your inputs and try again.")}).catch(function(e){return console.error(e)})}},S=Object(b.a)(function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},root:{padding:e.spacing(3,2),position:"absolute",top:"25%",flexGrow:1},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,display:"flex",bottom:-10}}}),_=Object(c.b)(function(e,t){return{state:e}})(function(e){var t=e.dispatch,a=e.state,n=S(),o=r.a.useState(!0),i=Object(p.a)(o,2),c=i[0],l=i[1],s=function(e){return function(n){t("origin"===e?{type:"ADD_FROM_ADDRESS",payload:n.target.value}:function(e){return{type:"ADD_TO_ADDRESS",payload:e}}(n.target.value)),a.addressReducer.originAddress.length<1||a.addressReducer.destinationAddress<1?l(!0):l(!1)}};return r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement("div",{className:n.container},r.a.createElement(f.a,{className:n.root},r.a.createElement(v.a,{variant:"h5"},"Get Route"),r.a.createElement(j.a,{required:!0,id:"standard-required",label:"From",value:a.originAddress,onChange:s("origin"),className:n.textField,margin:"normal"}),r.a.createElement(j.a,{required:!0,id:"standard-required",label:"To",value:a.destinationAddress,onChange:s("destination"),className:n.textField,margin:"normal"}),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(h.a,{onClick:function(e){return t(k(a.addressReducer.originAddress,a.addressReducer.destinationAddress))},to:"/confirm",component:u.b,className:n.button,disabled:c},"Search")))))}),x=Object(b.a)(function(e){return{container:{height:"100%",top:"25%",position:"absolute",alignItems:"center",justifyContent:"center"},root:{padding:e.spacing(3,2)}}}),C=Object(c.b)(function(e,t){return{state:e}})(function(e){var t=x(),a=e.state.userReducer.user.user,n=e.state.userReducer.user.company;return r.a.createElement(g.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},a&&r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.root},r.a.createElement(v.a,{variant:"h2"},"Profile"),a.completed_onboarding&&r.a.createElement(v.a,{variant:"caption"},r.a.createElement("span",{"aria-label":"home-icon",role:"img"},"\u2705")," Onboarding Completed")),r.a.createElement(f.a,{className:t.root},r.a.createElement(v.a,{variant:"h5"},a.first_name," ",a.last_name),r.a.createElement(v.a,{variant:"caption"},n.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{variant:"body1"},a.email," ",r.a.createElement("br",null),a.phone_number))))}),N=Object(b.a)(function(e){return{container:{height:"100%",width:"100%",top:"25%",display:"flex",alignItems:"center",justifyContent:"center"},paper:{flexGrow:1,position:"absolute",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"},modal:{position:"absolute",top:100,width:"100%",height:"80%",frameBorder:0,border:0,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"},button:{backgroundColor:e.palette.primary.main}}}),D=Object(c.b)(function(e,t){return{state:e}})(function(e){var t=N(),a=r.a.useState(!1),n=Object(p.a)(a,2),o=n[0],i=n[1],c=function(){return i(!0)},l=e.state.validationReducer.validatedAddress,s=l.validOrigin,d=l.validDestination,u=s&&d?"&origin=".concat(s.geocoded_address.formatted_address,"&destination=").concat(d.geocoded_address.formatted_address):"";return r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement(y,{className:t.progress}),r.a.createElement(f.a,{className:t.container},function(e){var a="https://www.google.com/maps/embed/v1/directions?key=".concat("AIzaSyCdzWIj6TClthKXG8r9Htw3frZQD8Sc-n8").concat(e,"&avoid=tolls");return r.a.createElement("iframe",{onLoad:c,className:t.modal,title:"Directions",src:a,allowFullScreen:!0})}(u)))}),R=a(146),T=a(73),F=a(71),I=a.n(F),G=a(145),B=a(142),W=a(143),z=a(150),P=a(144),L=Object(b.a)(function(e){return{root:{top:0,flexGrow:1,width:"100%",position:"relative",zIndex:1100},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},avatar:{backgroundColor:e.palette.secondary.main}}}),M=Object(c.b)(function(e,t){return{state:e}})(function(e){var t=e.dispatch,a=e.state.userReducer.user.user,o=e.state.userReducer.user.company,i=L(),c=r.a.useState(null),l=Object(p.a)(c,2),s=l[0],d=l[1],m=Boolean(s);Object(n.useEffect)(function(){a||t(function(e){fetch("https://dev-api.shipwell.com/v2/auth/me/",{method:"GET",headers:{"Cache-Control":"no-cache","Content-Type":"application/json",Authorization:"Token 4c4547fe6ad68c57cbac0a8cfbfec35b"}}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"GET_USER",payload:e}}(t))}).catch(function(e){return console.error(e)})})},[a,t]);var g=function(){return d(null)};return r.a.createElement("div",{className:i.root},r.a.createElement(B.a,{position:"static"},r.a.createElement(W.a,null,r.a.createElement(P.a,{component:u.b,to:"/",color:"secondary",edge:"start",className:i.menuButton,"aria-label":"Menu"},r.a.createElement(I.a,null)),a&&r.a.createElement(v.a,{variant:"overline",className:i.title},o.name)||r.a.createElement(v.a,{variant:"overline",className:i.title}),a&&r.a.createElement("div",null,r.a.createElement(P.a,{"aria-label":"Account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return d(e.currentTarget)},color:"inherit"},r.a.createElement(G.a,{className:i.avatar}," ",a.first_name[0]," ")),r.a.createElement(T.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:g},r.a.createElement(z.a,{component:u.b,to:"/user",onClick:g},"Profile"),r.a.createElement(z.a,{component:R.a,style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",href:"https://youtu.be/dQw4w9WgXcQ",onClick:g},"My account"))))))}),U=function(e){return r.a.createElement(u.a,null,r.a.createElement(m.a,{path:"/",component:M}),r.a.createElement(m.a,{exact:!0,path:"/",component:_}),r.a.createElement(m.a,{exact:!0,path:"/user",component:C}),r.a.createElement(m.a,{exact:!0,path:"/map",component:D}),r.a.createElement(m.a,{exact:!0,path:"/confirm",component:A}))},q=a(28),X=a(72),J=a(30),Q={isFetching:!1,didInvalidate:!1,validatedAddress:{}},V={originAddress:"",destinationAddress:""},H={user:{}},K=Object(q.c)({addressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FROM_ADDRESS":var a=t.payload;return Object(J.a)({},e,{originAddress:a});case"ADD_TO_ADDRESS":var n=t.payload;return Object(J.a)({},e,{destinationAddress:n});default:return e}},validationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VALIDATE_ADDRESS":var a=t.payload;return Object(J.a)({},e,{validatedAddress:a,isFetching:!0});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":var a=t.payload;return Object(J.a)({},e,{user:a});default:return e}}}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,$=Object(q.e)(K,Z(Object(q.a)(X.a))),Y=(a(97),Object(s.a)({palette:{primary:{main:"#38a3dc"},secondary:{main:"#f44336"},background:{default:"#F6F8FA"}}})),ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{store:$},r.a.createElement(d.a,{theme:Y},r.a.createElement(l.a,null),r.a.createElement(U,null))))},te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(ee,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/take-home",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/take-home","/service-worker.js");te?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ae(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ae(t,e)})}}()}},[[77,1,2]]]);
//# sourceMappingURL=main.1d912f68.chunk.js.map