(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{77:function(e,a,t){e.exports=t(97)},82:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),i=t.n(o),c=(t(82),t(20)),l=t(142),s=t(74),d=t(144),u=t(34),m=t(26),p=t(98),g=t(137),h=t(99),f=t(138),v=t(136),E=Object(p.a)({root:{flexGrow:1}});function b(){var e=E();return r.a.createElement("div",{className:e.root},r.a.createElement(v.a,{color:"secondary",variant:"query"}))}var y=t(51),O=Object(p.a)(function(e){return{container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"},modal:{width:800,height:450,frameBorder:0,border:0},button:{backgroundColor:e.palette.primary.main}}}),w=Object(c.b)(function(e,a){return{state:e}})(function(e){var a=O(),t=r.a.useState(!1),n=Object(y.a)(t,2),o=n[0],i=n[1],c=function(){return i(!0)},l=e.state.validationReducer.validatedAddress,s=l.validOrigin,d=l.validDestination,u="&origin=".concat(s.geocoded_address&&s.geocoded_address.formatted_address,"&destination=").concat(d.geocoded_address&&d.geocoded_address.formatted_address);return r.a.createElement("div",{className:a.container},!o&&r.a.createElement(b,{className:a.progress}),r.a.createElement(h.a,null,r.a.createElement("div",{className:a.paper},"'",function(e){var t="https://www.google.com/maps/embed/v1/directions?key=".concat("AIzaSyCdzWIj6TClthKXG8r9Htw3frZQD8Sc-n8").concat(e,"&avoid=tolls");return r.a.createElement("iframe",{onLoad:c,className:a.modal,title:"Directions",src:t,allowFullScreen:!0})}(u))))}),_=Object(p.a)(function(e){return{container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:"50%",top:"25%",marginRight:"-50%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"},header:{margin:15},card:{position:"relative",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[2],padding:e.spacing(4),margin:15,outline:"none"},button:{float:"right",margin:e.spacing(1),backgroundColor:e.palette.primary.main},progress:{position:"relative",top:0}}}),A=Object(c.b)(function(e,a){return{state:e}})(function(e){var a=e.state.validationReducer.validatedAddress,t=a.validOrigin,n=a.validDestination,o=_();return r.a.createElement("div",{className:o.container},!t&&r.a.createElement(b,{className:o.progress}),r.a.createElement(h.a,{className:o.paper},r.a.createElement(g.a,{className:o.header,variant:"h5",gutterBottom:!0},"Confirm Address"),r.a.createElement("span",null,r.a.createElement(h.a,{className:o.card},t&&r.a.createElement(g.a,{variant:"body1",className:o.title},t.geocoded_address&&t.geocoded_address.formatted_address)||r.a.createElement(g.a,{color:"textSecondary",variant:"overline",className:o.title},"Orgin")),r.a.createElement(h.a,{className:o.card},n&&r.a.createElement(g.a,{variant:"body1",className:o.title},n.geocoded_address&&n.geocoded_address.formatted_address)||r.a.createElement(g.a,{color:"textSecondary",variant:"overline",className:o.title},"Destination"))),r.a.createElement("div",null,r.a.createElement(f.a,{component:u.b,to:"/map",className:o.button},"Map"),r.a.createElement(f.a,{onClick:e.history.goBack,className:o.button},"Back"))))}),D=t(143),S=function(e,a){return console.log({origin:e,destination:a}),function(t){var n=function(e){return fetch("https://dev-api.shipwell.com/v2/locations/addresses/validate/",function(e){return{method:"POST",headers:{"Cache-Control":"no-cache","Content-Type":"application/json"},body:JSON.stringify({formatted_address:e})}}(e)).then(function(e){return e.json()})},r={validOrigin:{},validDestination:{}};Promise.all([n(e),n(a)]).then(function(e){return r.validOrigin=e[0],r.validDestination=e[1],t({type:"VALIDATE_ADDRESS",payload:r})}).catch(function(e){return console.error(e)})}},N=Object(p.a)(function(e){return{root:{padding:e.spacing(3,2),position:"absolute",top:"25%"},container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400},button:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,display:"flex",bottom:-10}}}),j=Object(c.b)(function(e,a){return{state:e}})(function(e){var a=e.dispatch,t=e.state,o=e.state.userReducer.user.user,i=N(),c=function(e){return function(t){return a("origin"===e?{type:"ADD_FROM_ADDRESS",payload:t.target.value}:function(e){return{type:"ADD_TO_ADDRESS",payload:e}}(t.target.value))}};return Object(n.useEffect)(function(){o||a((console.log("GETTING USER"),function(e){fetch("https://dev-api.shipwell.com/v2/auth/me/",{method:"GET",headers:{"Cache-Control":"no-cache","Content-Type":"application/json",Authorization:"Token 4c4547fe6ad68c57cbac0a8cfbfec35b"}}).then(function(e){return e.json()}).then(function(a){return e(function(e){return{type:"GET_USER",payload:e}}(a))}).catch(function(e){return console.error(e)})}))},[o,a]),r.a.createElement("div",{id:"main-contain",className:i.container},r.a.createElement(h.a,{className:i.root},r.a.createElement(D.a,{required:!0,id:"standard-required",label:"From",value:t.originAddress,onChange:c("origin"),className:i.textField,margin:"normal"}),r.a.createElement(D.a,{required:!0,id:"standard-required",label:"To",value:t.destinationAddress,onChange:c("destination"),className:i.textField,margin:"normal"}),r.a.createElement(f.a,{onClick:function(e){return a(S(t.addressReducer.originAddress,t.addressReducer.destinationAddress))},to:"/confirm",component:u.b,className:i.button},"Search")))}),C=t(139),R=t(140),k=t(141),x=t(70),T=t.n(x),F=t(71),I=t.n(F),B=t(145),G=t(73),M=Object(p.a)(function(e){return{root:{top:0,flexGrow:1,width:"100%",position:"fixed"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}),q=Object(c.b)(function(e,a){return{state:e}})(function(e){var a=M(),t=r.a.useState(null),n=Object(y.a)(t,2),o=n[0],i=n[1],c=Boolean(o),l=e.state.userReducer.user.user,s=function(){return i(null)};return r.a.createElement("div",{className:a.root},r.a.createElement(C.a,{position:"static"},r.a.createElement(R.a,null,r.a.createElement(k.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(T.a,null)),l&&r.a.createElement(g.a,{variant:"h6",className:a.title},l.first_name)||r.a.createElement(g.a,{variant:"h6",className:a.title}),l&&r.a.createElement("div",null,r.a.createElement(k.a,{"aria-label":"Account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return i(e.currentTarget)},color:"inherit"},r.a.createElement(I.a,null)),r.a.createElement(G.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:s},r.a.createElement(B.a,{onClick:s},"Profile"),r.a.createElement(B.a,{onClick:s},"My account"))))))}),z=function(e){return r.a.createElement(u.a,null,r.a.createElement(m.a,{path:"/",component:q}),r.a.createElement(m.a,{exact:!0,path:"/",component:j}),r.a.createElement(m.a,{exact:!0,path:"/map",component:w}),r.a.createElement(m.a,{exact:!0,path:"/confirm",component:A}))},L=t(25),P=t(72),U=t(28),J={isFetching:!1,didInvalidate:!1,validatedAddress:{}},V={originAddress:"",destinationAddress:""},W={user:{}},X=Object(L.c)({addressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_FROM_ADDRESS":var t=a.payload;return Object(U.a)({},e,{originAddress:t});case"ADD_TO_ADDRESS":var n=a.payload;return Object(U.a)({},e,{destinationAddress:n});default:return e}},validationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"VALIDATE_ADDRESS":var t=a.payload;return Object(U.a)({},e,{validatedAddress:t,isFetching:!0});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER":var t=a.payload;return Object(U.a)({},e,{user:t});default:return e}}}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.d,K=Object(L.e)(X,H(Object(L.a)(P.a))),Q=(t(96),Object(s.a)({palette:{primary:{main:"#38a3dc"},secondary:{main:"#f44336"},background:{default:"#F6F8FA"}}})),Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{store:K},r.a.createElement(d.a,{theme:Q},r.a.createElement(l.a,null),r.a.createElement(z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[77,1,2]]]);
//# sourceMappingURL=main.dabd4be8.chunk.js.map